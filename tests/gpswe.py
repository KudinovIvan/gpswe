import socket


def check_login_wialon():
    """
    Проверка на обработку пакета логина Wialon
    """
    check_data = b'#AL#1\r\n'
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.connect(("localhost", 10500))
        s.sendall(b"#L#2.0;123123123;NA;45387\r\n")
        data = s.recv(1024)
    assert check_data == data


def check_cut_wialon():
    """
    Проверка на обработку сокращенного пакета с данными Wialon
    """
    check_data = b'#ASD#1\r\n'
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.connect(("localhost", 10500))
        s.sendall(b"#SD#230521;022715.154786;5544.6025;N;03739.6834;E;120;15;10;2;37391\r\n")
        data = s.recv(1024)
    assert check_data == data


def check_extend_wialon():
    """
    Проверка на обработку расширенного пакета с данными Wialon
    """
    check_data = b'#AD#1\r\n'
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.connect(("localhost", 10500))
        s.sendall(
            b"#D#180523;191852.125476;6718.3062;N;07904.4501;E;0;307;8;13;0.600000;57344;838926351;12.425000,,2.501000,,0.563000,,0.000000,NA,NA,NA,NA,3.183000,,0.000000,,2425.000000,,2501.000000,,563.000000,,0.000000;NA;GSM_STATUS:1:3,ACC_TRIGGER:1:1,PWR_EXT:2:25.527000,PWR_INT:2:4.183000,ACC:2:497530.544000,ACCX:1:688,ACCY:1:493,ACCZ:1:474,VALID:1:0,SOFT:1:201;19869\r\n")
        data = s.recv(1024)
    assert check_data == data


def check_egts():
    """
    Проверка на обработку пакета с данными EGTS
    """
    check_data = b'\x80\x04\x95*\x00\x00\x00\x00\x00\x00\x00]\x94(K\x01K\x00K\x00K\x0bK\x00K\x03K\x00K\x01K\x00K\x00\x8c\x040x8e\x94K\x00K\x00\x8c\x030x0\x94e.'
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.connect(("localhost", 10500))
        s.sendall(
            b'\x01\x00\x02\x0b\x00\xe4\x01\x00\x00\x01\xb9J\x00\xcf/\x959\xfa\xd4C\xdeM)\x19\x02\x02\x10\x18\x00\xdeM)\x19\xec\x0e*\xae\x13+IH\x81\x00\x00\xff\x00\x00\x00\x10\x00?\x00\x00\x11\x04\x00\x18\x0c\x03\x00\x12\t\x00\x00\x00\x03\xff\x00\x00\xe8\x03\x00\x1b\x07\x00\x01\x00\x00H\x0b\x00\x00\x1b\x07\x00B\x00\x00\x00\x00\x00\x00\x1b\x07\x00C\x00\x00\x00\x00\x00\x00\x1b\x07\x00D\x00\x00\x00\x00\x00\x00\x1b\x07\x00E\x00\x00\x00\x00\x00\x00\x1b\x07\x00F\x00\x00\x00\x00\x00\x00J\x00\xd0/\x959\xfa\xd4C\xe0M)\x19\x02\x02\x10\x18\x00\xe0M)\x19L\x11*\xaeY,IH\x81M\x000\x00\x00\x00\x10\x00?\x00\x00\x11\x04\x00\x18\x0c\x03\x00\x12\t\x00\x00\x00\x03\xff\x00\x00\xe8\x03\x00\x1b\x07\x00\x01\x00\x00H\x0b\x00\x00\x1b\x07\x00B\x00\x00\x00\x00\x00\x00\x1b\x07\x00C\x00\x00\x00\x00\x00\x00\x1b\x07\x00D\x00\x00\x00\x00\x00\x00\x1b\x07\x00E\x00\x00\x00\x00\x00\x00\x1b\x07\x00F\x00\x00\x00\x00\x00\x00J\x00\xd1/\x959\xfa\xd4C\x07N)\x19\x02\x02\x10\x18\x00\x07N)\x19S\x15*\xaeN/IH\x81\x1e\x008\x00\x00\x00\x10\x00C\x00\x00\x11\x04\x00\x18\x0c\x03\x00\x12\t\x00\x00\x00\x03\xff\x00\x00\xe8\x03\x00\x1b\x07\x00\x01\x00\x00H\x0b\x00\x00\x1b\x07\x00B\x00\x00\x00\x00\x00\x00\x1b\x07\x00C\x00\x00\x00\x00\x00\x00\x1b\x07\x00D\x00\x00\x00\x00\x00\x00\x1b\x07\x00E\x00\x00\x00\x00\x00\x00\x1b\x07\x00F\x00\x00\x00\x00\x00\x00J\x00\xd2/\x959\xfa\xd4CAN)\x19\x02\x02\x10\x18\x00AN)\x19\xd5\x14*\xae\xca,IH\x81\x00\x80\x07\x00\x00\x00\x10\x00B\x00\x00\x11\x04\x00\x18\x0c\x03\x00\x12\t\x00\x00\x00\x03\xff\x00\x00\xe8\x03\x00\x1b\x07\x00\x01\x00\x00H\x0b\x00\x00\x1b\x07\x00B\x00\x00\x00\x00\x00\x00\x1b\x07\x00C\x00\x00\x00\x00\x00\x00\x1b\x07\x00D\x00\x00\x00\x00\x00\x00\x1b\x07\x00E\x00\x00\x00\x00\x00\x00\x1b\x07\x00F\x00\x00\x00\x00\x00\x00\xc5\xc6')
        data = s.recv(1024)
    assert check_data == data
